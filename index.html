<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Learn Thai script with spaced repetition and deliberate practice">
    <title>Thai Script Master - Learn Thai Alphabet with SM-2</title>

    <!-- Google Fonts for Thai -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Thai:wght@400;700&family=Inter:wght@400;600;700&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <div class="app-container">
        <!-- Header -->
        <header class="header">
            <h1 class="title">Thai Script Master</h1>
            <div class="header-controls">
                <div class="level-indicator">
                    <span class="level-label">Level:</span>
                    <span class="level-number" id="currentLevel">1</span>
                </div>
                <button class="icon-button" id="settingsBtn" aria-label="Settings" title="Settings (S)">⚙️</button>
            </div>
        </header>

        <!-- Main Practice Area -->
        <main class="practice-area">
            <!-- Thai Character Display -->
            <div class="character-display">
                <div class="thai-character" id="thaiChar">ก</div>
                <div class="character-hint" id="charHint"></div>
            </div>

            <!-- Input Area -->
            <div class="input-area">
                <input
                    type="text"
                    id="romanInput"
                    class="roman-input"
                    placeholder="Type romanization..."
                    autocomplete="off"
                    autocapitalize="off"
                    spellcheck="false"
                    autofocus
                />
                <button class="submit-button" id="submitBtn">Check</button>
            </div>

            <!-- Feedback Area -->
            <div class="feedback-area" id="feedbackArea">
                <div class="feedback-message" id="feedbackMsg"></div>
            </div>

            <!-- Educational Panel (shown on wrong answer) -->
            <div class="educational-panel" id="educationalPanel">
                <!-- Content will be dynamically inserted by UI -->
            </div>

            <!-- Stats Panel -->
            <div class="stats-panel">
                <div class="stat-item">
                    <span class="stat-label">Score</span>
                    <span class="stat-value" id="scoreValue">0/0</span>
                </div>
                <div class="stat-item">
                    <span class="stat-label">Accuracy</span>
                    <span class="stat-value" id="accuracyValue">0%</span>
                </div>
                <div class="stat-item">
                    <span class="stat-label">Streak</span>
                    <span class="stat-value" id="streakValue">0</span>
                </div>
                <div class="stat-item">
                    <span class="stat-label">Due Today</span>
                    <span class="stat-value" id="dueValue">0</span>
                </div>
                <div class="stat-item">
                    <span class="stat-label">Learned</span>
                    <span class="stat-value" id="learnedValue">0</span>
                </div>
            </div>

            <!-- Progress Indicator -->
            <div class="progress-container">
                <div class="progress-bar" id="progressBar"></div>
            </div>
        </main>

        <!-- Settings Modal -->
        <div class="modal" id="settingsModal" style="display: none;">
            <div class="modal-content">
                <div class="modal-header">
                    <h2>Settings</h2>
                    <button class="close-button" id="closeSettings">&times;</button>
                </div>
                <div class="modal-body">
                    <div class="setting-group">
                        <h3>Practice Settings</h3>
                        <label>
                            <span>New Cards Per Day:</span>
                            <input type="number" id="newCardsPerDay" min="1" max="20" value="5">
                        </label>
                    </div>
                    <div class="setting-group">
                        <h3>Data</h3>
                        <button class="secondary-button" id="exportData">Export Data</button>
                        <button class="secondary-button" id="importData">Import Data</button>
                        <button class="danger-button" id="resetProgress">Reset Progress</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Help Overlay -->
        <div class="help-overlay" id="helpOverlay" style="display: none;">
            <div class="help-content">
                <h2>Keyboard Shortcuts</h2>
                <ul class="shortcut-list">
                    <li><kbd>Enter</kbd> Submit answer</li>
                    <li><kbd>Esc</kbd> Reveal answer</li>
                    <li><kbd>Space</kbd> Next card</li>
                    <li><kbd>S</kbd> Settings</li>
                    <li><kbd>?</kbd> This help menu</li>
                </ul>
                <button class="close-button" id="closeHelp">Close</button>
            </div>
        </div>
    </div>

    <!-- JavaScript Modules -->
    <script src="js/data.js"></script>
    <script src="js/sm2.js"></script>
    <script src="js/storage.js"></script>
    <script src="js/stats.js"></script>
    <script src="js/ui.js"></script>
    <script src="js/app.js"></script>
</body>
</html>
